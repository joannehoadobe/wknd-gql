(this["webpackJsonpwknd-gql"]=this["webpackJsonpwknd-gql"]||[]).push([[0],{59:function(e,n,t){},83:function(e,n,t){},90:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(19),i=t.n(a),c=(t(59),t(36)),s=t(8),l=t(9),d=t(1),h="Validation error of type FieldUndefined: Field 'adventureList' in type 'QueryType' is undefined @ 'adventureList'",u="Unexpected token < in JSON at position 0";function j(e){var n=e.error;try{return Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{children:"Error"}),Object(d.jsx)("pre",{style:p.pre,children:n}),n===h&&Object(d.jsx)("span",{children:"The Adventures, Articles Content Fragment Models are either not created and installed, or need to be resaved."}),n===h&&Object(d.jsx)("a",{style:p.a,href:"/libs/dam/cfm/models/console/content/models.html/conf",children:"Setup Content Fragments"}),n===u&&Object(d.jsx)("span",{children:"The global GraphQL endpoint appears to not exist or not be setup."}),n===u&&Object(d.jsx)("a",{style:p.a,href:"/libs/cq/graphql/sites/admin/content/console.html",children:"Setup Global GraphQL Endpoint"})]})}catch(t){return Object(d.jsx)("div",{children:"Error with the Error"})}}var p={pre:{border:"1px solid rgba(255, 255, 255, .1)",borderRadius:"4px",padding:"1rem",width:"120ch",whiteSpace:"normal"},a:{color:"black"}};var m=t(61).AEMHeadless,b=Object({NODE_ENV:"production",PUBLIC_URL:"/wknd-gql",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORIZATION:"api:mitty20",REACT_APP_CONTENT_PATH:"/en/index",REACT_APP_GRAPHQL_ENDPOINT:"/content/_cq_graphql/global/endpoint.json",REACT_APP_HOST_URI:"https://author-p24020-e217804.adobeaemcloud.com",REACT_APP_PUBLIC_URI:"https://author-p24020-e217804.adobeaemcloud.com",REACT_APP_PUBLISHER:"https://publish-p24020-e217804.adobeaemcloud.com",REACT_APP_SITE:"megamenu"}),g=b.REACT_APP_PUBLIC_URI,O=b.REACT_APP_GRAPHQL_ENDPOINT,f=b.REACT_APP_AUTHORIZATION;var v=t(93),x=t(94),_=t(95),T=t(54);function w(e){return Object(d.jsx)(v.a,{children:Object(d.jsxs)(x.a,{collapseOnSelect:!0,className:"justify-content-right",expand:"lg",variant:"light",bg:"light",children:[Object(d.jsx)(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(d.jsx)(x.a.Collapse,{id:"responsive-navbar-nav",children:Object(d.jsx)(_.a,{className:"me-auto",children:e.content.navigation.menuItems.map((function(e){return Object(d.jsx)(T.a,{href:"#/"+e.menuLink,children:e.menuName},e.menuName.toLowerCase())}))})})]})})}t(83);function A(e){return Object(d.jsxs)("div",{className:e.content.entityType,children:[Object(d.jsx)("div",{className:"floater",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:e.content.teaserTitle}),Object(d.jsx)("p",{dangerouslySetInnerHTML:{__html:e.content.teaserDescription.html}}),Object(d.jsx)("a",{href:"#",className:"action-links",children:"View Trips"})]})}),Object(d.jsx)("img",{className:"teaser-image",src:e.content.teaserImage._publishUrl})]})}var k=t(25),y=t(26),P=t(32),E=t(38),N=function(e){Object(P.a)(t,e);var n=Object(E.a)(t);function t(e){var r;return Object(k.a)(this,t),(r=n.call(this,e)).state={error:null,isLoaded:!1,items:[]},r}return Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;(new Headers).append("Authorization","Basic "+btoa("api:mitty20"));var n={method:"GET",headers:{"Access-Control-Request-Headers":"Authorization",Authorization:"Basic "+btoa("api:mitty20"),"Content-Type":"text/plain",Origin:""},credentials:"include"};console.log(n),fetch(this.props.content.experienceFragment._authorUrl,n).then((function(n){n.text().then((function(n){console.log(n),e.setState({isLoaded:!0,items:n})}))}),(function(n){console.log(n),e.setState({isLoaded:!0,error:n})}))}},{key:"render",value:function(){var e=this.state,n=e.error,t=e.isLoaded,r=e.items;return n?Object(d.jsxs)("div",{children:["Error: ",n.message]}):t?Object(d.jsx)("span",{dangerouslySetInnerHTML:{__html:r}}):Object(d.jsx)("div",{children:"Loading..."})}}]),t}(o.a.Component);function L(e){return"navigation"===e.type?Object(d.jsx)(w,{content:e.content}):"teaser"===e.type?Object(d.jsx)(A,{content:e.content}):"experience fragment"===e.type?Object(d.jsx)(N,{content:e.content}):Object(d.jsx)("p",{children:"default"})}function S(e){var n=1,t=Object(s.f)().path;console.log(t||"home");var o=function(e,n){var t=Object(r.useState)(null),o=Object(l.a)(t,2),a=o[0],i=o[1],c=Object(r.useState)(null),s=Object(l.a)(c,2),d=s[0],h=s[1];return Object(r.useEffect)((function(){var t=new m({serviceURL:g,endpoint:O,auth:f.split(":")});(e?t.runQuery.bind(t):t.runPersistedQuery.bind(t))(e||n).then((function(e){var n=e.data,t=e.errors;t&&h(function(e){return e.map((function(e){return e.message?e.message:e})).join(",")}(t)),n&&i(n)})).catch((function(e){h(e)}))}),[e,n]),{data:a,errors:d}}('{\n  screenList(filter: {\n    screenName: {\n      _expressions: {\n        value: "'.concat(t||"home",'"\n        _ignoreCase: true\n      }\n    }\n  }) {\n    items {\n      navigation {\n        ... on TopModel {\n          menuItems {\n            menuName\n            menuLink\n            items {\n              __typename\n              ... on LinksModel {\n                linkurl\n                linkName\n              }\n            }\n          }\n        }\n      }\n      block {\n        __typename\n        ... on TeaserModel {\n          _model {\n            _path\n            title\n          }\n          teaserImage {\n            ... on ImageRef {\n              _authorUrl\n              _publishUrl\n              width\n              height\n              mimeType\n            }\n          }\n          teaserTitle\n          teaserDescription {\n            html\n            plaintext\n          }\n          entityType\n        }\n        ... on ExperienceFragmentModel {\n          _model {\n            title\n          }\n          name\n          experienceFragment {\n            ... on PageRef { \n              _publishUrl\n              _authorUrl\n            }\n          }\n        }\n      }\n    }\n  }\n}')),a=o.data,i=o.errors,h=Object(r.useState)(!1),u=Object(l.a)(h,2),p=u[0],b=u[1];return null!=i?(b(!0),Object(d.jsx)(j,{error:i})):p||null!==a?p&&!a.screenList.items?Object(d.jsx)(j,{error:"There was an error with the returned data."}):null!=a?(p||b(!0),Object(d.jsxs)("div",{className:"grid-container",children:[Object(d.jsx)("div",{className:"header",children:"test"}),Object(d.jsx)("div",{className:"left row2",children:Object(d.jsx)(c.b,{to:"/",children:Object(d.jsx)("img",{src:"https://wknd.site/content/experience-fragments/wknd/language-masters/en/site/header/master/_jcr_content/root/container/container_1195249223/image.coreimg.svg/1594412560447/wknd-logo-dk.svg",width:"96"})})}),Object(d.jsx)("div",{className:"middle row2",children:Object(d.jsx)(w,{content:a.screenList.items[0]})}),Object(d.jsx)("div",{className:"right row2",children:Object(d.jsx)("input",{className:"search","data-cmp-hook-search":"input",type:"text",name:"fulltext",placeholder:"Search",role:"combobox"})}),a.screenList.items[0].block.map((function(e){return Object(d.jsx)("div",{className:"block"+n++,children:Object(d.jsx)(L,{type:e._model.title.toLowerCase(),content:e},e.key)},"block"+n)})),Object(d.jsx)("div",{className:"footer",children:Object(d.jsx)("p",{children:"Footer"})})]})):void 0:Object(d.jsx)("span",{children:"What to do here?"})}var C=function(){return Object(d.jsx)(c.a,{children:Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{path:"/:path",children:Object(d.jsx)(S,{})}),Object(d.jsx)(s.a,{path:"/",children:Object(d.jsx)(S,{})})]})})},R=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,96)).then((function(n){var t=n.getCLS,r=n.getFID,o=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),o(e),a(e),i(e)}))},I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(89);i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),R(),function(e){if("serviceWorker"in navigator){if(new URL("/wknd-gql",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/wknd-gql","/service-worker.js");I?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):U(n,e)}))}}()}},[[90,1,2]]]);
//# sourceMappingURL=main.f1a0e551.chunk.js.map