(this["webpackJsonpwknd-gql"]=this["webpackJsonpwknd-gql"]||[]).push([[0],{101:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),c=t(19),o=t.n(c),a=(t(63),t(36)),s=t(8),l=t(9),d=t(1),h="Validation error of type FieldUndefined: Field 'adventureList' in type 'QueryType' is undefined @ 'adventureList'",j="Unexpected token < in JSON at position 0";function u(e){var n=e.error;try{return Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{children:"Error"}),Object(d.jsx)("pre",{style:m.pre,children:n}),n===h&&Object(d.jsx)("span",{children:"The Adventures, Articles Content Fragment Models are either not created and installed, or need to be resaved."}),n===h&&Object(d.jsx)("a",{style:m.a,href:"/libs/dam/cfm/models/console/content/models.html/conf",children:"Setup Content Fragments"}),n===j&&Object(d.jsx)("span",{children:"The global GraphQL endpoint appears to not exist or not be setup."}),n===j&&Object(d.jsx)("a",{style:m.a,href:"/libs/cq/graphql/sites/admin/content/console.html",children:"Setup Global GraphQL Endpoint"})]})}catch(t){return Object(d.jsx)("div",{children:"Error with the Error"})}}var m={pre:{border:"1px solid rgba(255, 255, 255, .1)",borderRadius:"4px",padding:"1rem",width:"120ch",whiteSpace:"normal"},a:{color:"black"}};var b=t(65).AEMHeadless,p=Object({NODE_ENV:"production",PUBLIC_URL:"/wknd-gql",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORIZATION:"api:mitty20",REACT_APP_CONTENT_PATH:"/en/index",REACT_APP_GRAPHQL_ENDPOINT:"/content/_cq_graphql/global/endpoint.json",REACT_APP_HOST_URI:"https://author-p24020-e217804.adobeaemcloud.com",REACT_APP_PUBLIC_URI:"https://author-p24020-e217804.adobeaemcloud.com",REACT_APP_PUBLISHER:"https://publish-p24020-e217804.adobeaemcloud.com",REACT_APP_SITE:"megamenu",REACT_APP_TOKEN:"eyJhbGciOiJSUzI1NiIsIng1dSI6Imltc19uYTEta2V5LWF0LTEuY2VyIiwia2lkIjoiaW1zX25hMS1rZXktYXQtMSIsIml0dCI6ImF0In0.eyJpZCI6IjE2NDYzMzczNDcwMThfYWQ0OGIxZDUtZWU0ZC00NzhlLTkwYjctYzEwNDdlZmQ0NTM5X3VlMSIsInR5cGUiOiJhY2Nlc3NfdG9rZW4iLCJjbGllbnRfaWQiOiJkZXYtY29uc29sZS1wcm9kIiwidXNlcl9pZCI6IjZCNkIzOUY3NTZBQkI5OUU3RjAwMDEwMUBhZG9iZS5jb20iLCJzdGF0ZSI6IkxZOFlZVEpCWDdncUR2Vmd2WURDbm1lRCIsImFzIjoiaW1zLW5hMSIsImFhX2lkIjoiNkI2QjM5Rjc1NkFCQjk5RTdGMDAwMTAxQGFkb2JlLmNvbSIsImN0cCI6MCwiZmciOiJXSFhFV0VaUlhMRTdJUFVDR01RRlRYUUE0ST09PT09PSIsInNpZCI6IjE2NDYyNjMxNjA2NDlfMWFiYWMwYjctYjlhMi00NjAzLTk2MWYtNzI4ODYwOGM5NzRiX3VlMSIsInJ0aWQiOiIxNjQ2MzM3MzQ3MDE5XzgwMDU2NjkzLTczZDUtNDNjYi05YzRmLTQ3ZWIyOGUxYjhlMF91ZTEiLCJtb2kiOiJlNDI3YzAxMCIsInBiYSI6IiIsIm9jIjoicmVuZ2EqbmExcioxN2Y1MTVhNGFmMipIMlFCSkYwUTlYNDE1NkUyRFcwNTUwN0FZOCIsInJ0ZWEiOiIxNjQ3NTQ2OTQ3MDE5IiwiZXhwaXJlc19pbiI6Ijg2NDAwMDAwIiwic2NvcGUiOiJBZG9iZUlELG9wZW5pZCxyZWFkX29yZ2FuaXphdGlvbnMsYWRkaXRpb25hbF9pbmZvLnByb2plY3RlZFByb2R1Y3RDb250ZXh0IiwiY3JlYXRlZF9hdCI6IjE2NDYzMzczNDcwMTgifQ.c7kZGOSCQYAyTw6KxphVcRpyXu1h_BNfkXR85JMoHeblCy3-czttv1IwH2wPNNWlHSGY_DrqOvT8IokDN5IaFb3ZWHC6H97NczWj7AWFVix7BwPWAbJQPvz9YRhzxSyubFFH81_nqV1vwiKMkeyOb4Vtb78aTjGEphiCTsx2JaIo0qnLOT5p-WEX1TZTo2zYYTRnXz301IrxjSXZb_gQ_iEnP4lf8O7inWMcUtvkeP00KGoUdu4ufCYNr0DbYGc1y2-lAvAXJ5i0ERXI4P-vzq8QIfWElSTN_DUh93nncHGplHqbXazIU4b3YV0lafGYj4xLyVk24SrgJSLRGCoEJw"}),O=p.REACT_APP_PUBLIC_URI,g=p.REACT_APP_GRAPHQL_ENDPOINT,f=p.REACT_APP_TOKEN;var x=t(54),v=t.n(x),I=function(e){console.log(e);return Object(d.jsx)(v.a,{renditions:[{width:319},{width:1280}],getSrc:function(n,t,i){return"".concat(e.src._publishUrl,"/_jcr_content/renditions/cq5dam.web.").concat(i.width,".").concat(i.width,".").concat(t)}.bind(null,"","jpeg"),className:e.className})},N=t(104),T=t(105),w=t(106),_=t(58);function k(e){return Object(d.jsx)(N.a,{children:Object(d.jsxs)(T.a,{collapseOnSelect:!0,className:"justify-content-right",expand:"lg",variant:"light",bg:"light",children:[Object(d.jsx)(T.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(d.jsx)(T.a.Collapse,{id:"responsive-navbar-nav",children:Object(d.jsx)(w.a,{className:"me-auto",children:e.content.navigation.menuItems.map((function(e){return Object(d.jsx)(_.a,{href:"#/"+e.menuLink,children:e.menuName},e.menuName.toLowerCase())}))})})]})})}t(93);function y(e){return Object(d.jsxs)("div",{className:e.content.entityType,children:[Object(d.jsx)("div",{className:"floater",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:e.content.teaserTitle}),Object(d.jsx)("p",{dangerouslySetInnerHTML:{__html:e.content.teaserDescription.html}}),Object(d.jsx)("a",{href:"#",className:"action-links",children:"View Trips"})]})}),Object(d.jsx)(I,{className:"teaser-image",src:e.content.teaserImage})]})}var E=t(25),S=t(26),R=t(32),C=t(38),A=function(e){Object(R.a)(t,e);var n=Object(C.a)(t);function t(e){var i;return Object(E.a)(this,t),(i=n.call(this,e)).state={error:null,isLoaded:!1,items:[]},i}return Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;(new Headers).append("Authorization","Basic "+btoa("api:mitty20"));var n={method:"GET",headers:{"Access-Control-Request-Headers":"Authorization",Authorization:"Basic "+btoa("api:mitty20"),"Content-Type":"text/plain",Origin:""},credentials:"include"},t=this.props.content.experienceFragment._authorUrl;t=t.substring(0,t.length-4),fetch(t+"model.json",n).then((function(n){n.text().then((function(n){e.handleJSON(n),e.setState({isLoaded:!0,items:n})}))}),(function(n){console.log(n),e.setState({isLoaded:!0,error:n})}))}},{key:"render",value:function(){var e=this.state,n=e.error,t=e.isLoaded,i=e.items;return n?Object(d.jsxs)("div",{children:["Error: ",n.message]}):t?Object(d.jsx)("span",{dangerouslySetInnerHTML:{__html:i}}):Object(d.jsx)("div",{children:"Loading..."})}},{key:"handleJSON",value:function(e){e=JSON.parse(e),console.log(e[":items"].root[":items"].container[":items"].contentfragment.paragraphs)}}]),t}(r.a.Component),M=(t(94),function(e){var n=e.content;return Object(d.jsx)("div",{className:n.entityType,dangerouslySetInnerHTML:{__html:n.content.html}})});function L(e){return"navigation"===e.type?Object(d.jsx)(k,{content:e.content}):"teaser"===e.type?Object(d.jsx)(y,{content:e.content}):"experience fragment"===e.type?Object(d.jsx)(A,{content:e.content}):"rich text"===e.type?Object(d.jsx)(M,{content:e.content}):Object(d.jsx)("p",{children:"default"})}function P(e){var n=1,t=Object(s.f)().path;console.log(t||"home");var r=function(e,n){var t=Object(i.useState)(null),r=Object(l.a)(t,2),c=r[0],o=r[1],a=Object(i.useState)(null),s=Object(l.a)(a,2),d=s[0],h=s[1];return Object(i.useEffect)((function(){var t=new b({serviceURL:O,endpoint:g,auth:f});(e?t.runQuery.bind(t):t.runPersistedQuery.bind(t))(e||n).then((function(e){var n=e.data,t=e.errors;t&&h(function(e){return e.map((function(e){return e.message?e.message:e})).join(",")}(t)),n&&o(n)})).catch((function(e){h(e)}))}),[e,n]),{data:c,errors:d}}('{\n  screenList(filter: {\n    screenName: {\n      _expressions: {\n        value: "'.concat(t||"home",'"\n        _ignoreCase: true\n      }\n    }\n  }) {\n    items {\n      navigation {\n        ... on TopModel {\n          menuItems {\n            menuName\n            menuLink\n            items {\n              __typename\n              ... on LinksModel {\n                linkurl\n                linkName\n              }\n            }\n          }\n        }\n      }\n      block {\n        __typename\n        ... on TeaserModel {\n          _model {\n            _path\n            title\n          }\n          teaserImage {\n            ... on ImageRef {\n              _authorUrl\n              _publishUrl\n              width\n              height\n              mimeType\n            }\n          }\n          teaserTitle\n          teaserDescription {\n            html\n            plaintext\n          }\n          entityType\n        }\n        ... on ExperienceFragmentModel {\n          _model {\n            title\n          }\n          name\n          experienceFragment {\n            ... on PageRef { \n              _publishUrl\n              _authorUrl\n            }\n          }\n        }\n        ... on RichTextModel {\n          _model {\n            title\n          }\n          content {\n            html\n          }\n          entityType\n        }\n      }\n    }\n  }\n}')),c=r.data,o=r.errors,h=Object(i.useState)(!1),j=Object(l.a)(h,2),m=j[0],p=j[1];return null!=o?(p(!0),Object(d.jsx)(u,{error:o})):m||null!==c?m&&!c.screenList.items?Object(d.jsx)(u,{error:"There was an error with the returned data."}):null!=c?(m||p(!0),Object(d.jsxs)("div",{className:"grid-container",children:[Object(d.jsx)("div",{className:"header",children:"test"}),Object(d.jsx)("div",{className:"left row2",children:Object(d.jsx)(a.b,{to:"/",children:Object(d.jsx)("img",{src:"https://wknd.site/content/experience-fragments/wknd/language-masters/en/site/header/master/_jcr_content/root/container/container_1195249223/image.coreimg.svg/1594412560447/wknd-logo-dk.svg",width:"96"})})}),Object(d.jsx)("div",{className:"middle row2",children:Object(d.jsx)(k,{content:c.screenList.items[0]})}),Object(d.jsx)("div",{className:"right row2",children:Object(d.jsx)("input",{className:"search","data-cmp-hook-search":"input",type:"text",name:"fulltext",placeholder:"Search",role:"combobox"})}),c.screenList.items[0].block.map((function(e){return Object(d.jsx)("div",{className:"block"+n++,children:Object(d.jsx)(L,{type:e._model.title.toLowerCase(),content:e},e.key)},"block"+n)})),Object(d.jsx)("div",{className:"footer",children:Object(d.jsx)("p",{children:"Footer"})})]})):void 0:Object(d.jsx)("span",{children:"What to do here?"})}var U=function(){return Object(d.jsx)(a.a,{children:Object(d.jsxs)(s.c,{children:[Object(d.jsx)(s.a,{path:"/:path",children:Object(d.jsx)(P,{})}),Object(d.jsx)(s.a,{path:"/",children:Object(d.jsx)(P,{})})]})})},Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,107)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),i(e),r(e),c(e),o(e)}))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(100);o.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(U,{})}),document.getElementById("root")),Y(),function(e){if("serviceWorker"in navigator){if(new URL("/wknd-gql",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/wknd-gql","/service-worker.js");Z?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):F(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):F(n,e)}))}}()},63:function(e,n,t){},93:function(e,n,t){},94:function(e,n,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.ef535f9f.chunk.js.map